<!DOCTYPE html>
<html lang="en">

<head>
	<!-- meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Object Pooling in Multiplayer Games | Joshua Mobley</title>
	<meta name="description" content="A deep dive into object pooling implementation in a Unity multiplayer game, discussing the challenges and performance improvements.">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-QPWGYQJDTC"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-QPWGYQJDTC');
	</script>

	<!-- tab img -->
	<link rel="icon" href="assets/img/favicon.ico" type="image/x-icon">

	<!-- css plugin -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/css/magnific-popup.css">
	<link rel="stylesheet" href="assets/css/flexslider.css">
	<link rel="stylesheet" href="assets/css/aos.css">

	<link href="assets/css/prism.css" rel="stylesheet" />

	<!-- main css -->
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="stylesheet" href="assets/css/style-responsives.css">

	<!-- google fonts -->
	<link href="https://fonts.googleapis.com/css?family=Hind:600|Lato:300,400" rel="stylesheet">

	<!-- Custom blog styles -->
	<style>
		.post-container {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
		}
		.post-title {
			margin-bottom: 30px;
			color: #4a8cdb;
		}
		.post-meta {
			margin-bottom: 30px;
			font-style: italic;
			color: #777;
		}
		.post-content {
			line-height: 1.8;
			margin-bottom: 40px;
		}
		.post-content h2 {
			margin-top: 40px;
			margin-bottom: 20px;
			color: #4a8cdb;
		}
		.post-content p {
			margin-bottom: 20px;
		}
		.post-content pre {
			margin: 20px 0;
			padding: 0;
			background-color: #1a2638; /* Darker blue background */
			border-left: 4px solid #4a8cdb;
			color: #e0e0e0;
			overflow-x: auto;
			border-radius: 5px;
		}
		
		/* Fixes for line numbers alignment */
		.post-content pre code {
			display: block;
			padding: 15px;
			font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
			line-height: 1.5;
		}
		
		/* Line numbers styling */
		pre.line-numbers {
			position: relative;
			padding-left: 3.8em;
			counter-reset: linenumber;
		}
		
		pre.line-numbers > code {
			position: relative;
			white-space: inherit;
		}
		
		.line-numbers .line-numbers-rows {
			position: absolute;
			pointer-events: none;
			top: 15px; /* Match the padding of code block */
			font-size: 100%;
			left: -3.8em;
			width: 3em; /* Works for line-numbers below 1000 lines */
			letter-spacing: -1px;
			border-right: 1px solid #3a4a63; /* Slightly lighter blue for the border */
			user-select: none;
		}
		
		.line-numbers-rows > span {
			display: block;
			counter-increment: linenumber;
		}
		
		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #768aa8; /* Lighter blue for the line numbers */
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
		
		.back-to-top {
			position: fixed;
			bottom: 20px;
			right: 20px;
			background: #333;
			color: #fff;
			width: 40px;
			height: 40px;
			text-align: center;
			line-height: 40px;
			border-radius: 50%;
			z-index: 100;
			cursor: pointer;
			display: none;
		}
		.back-to-top:hover {
			background: #4a8cdb;
		}
		.code-block {
			background: #1a2638; /* Darker blue background */
			padding: 15px;
			margin: 20px 0;
			border-radius: 5px;
			overflow-x: auto;
			color: #e0e0e0;
			font-family: monospace;
			border-left: 4px solid #4a8cdb;
			white-space: pre; 
			line-height: 1.5; 
			tab-size: 4; 
			/* Ensure active blog nav link is always green and underlined */
		}

		.navbar-nav > li > a.active {
			color: #48b14d !important; /* Green color */
			background-color: transparent !important; /* Ensure no background overrides */
			text-decoration: underline !important; /* Add underline */
		}

		.video-wrapper {
			position: relative;
			width: 100%;
			max-width: 800px;
			margin: 30px auto;
		}
		
		.video-wrapper iframe {
			display: block;
			width: 100%;
			height: 450px;
			border: none;
			border-radius: 5px;
			box-shadow: 0 3px 10px rgba(0,0,0,0.2);
		}
	</style>

	<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
	<!-- // PRELOADER BEGIN -->
	<div id="preloader">
		<div id="status">
			<div class="loader-revolve center">
				<span></span>
			</div>
		</div>
	</div>
	<!-- // PRELOADER END -->

	<!-- // NAVIGATION BEGIN -->
	<div id="navigation"></div>
	<!-- // NAVIGATION END -->

	<!-- // HEADER BEGIN -->
	<div id="header" style="background-image: url('assets/img/portfolio/portfolio-0.jpg')">
		<div class="overlay-blog">
			<div class="container">
				<div class="row">
					<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
						<div class="post-heading text-center">
							<h1 class="f-white">Object Pooling in Multiplayer Games</h1>
							<span class="meta">Posted by
								<a target="_blank" href="https://twitter.com/deadmonstors">Josh Mobley</a> on October 24, 2020
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- // HEADER END -->

	<!-- // POST BEGIN -->
	<section id="post">
		<div class="container">
			<div class="row">
				<div class="post-container">
					<article class="post-content">
						<h2>The Challenge</h2>
						<p>In my university Tower Defence game project, I faced the challenge of efficiently spawning large numbers of enemies and projectiles without causing performance drops. The solution was to implement an object pooling system that would reuse game objects instead of constantly creating and destroying them.</p>
						
						<div class="video-wrapper">
							<iframe src="https://www.youtube.com/embed/-Bgl3AXwzYg?showinfo=0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						</div>
						
						<p>The video above demonstrates my object pooling script in action. It allows me to easily pool and unpool objects by an ID, significantly improving performance for frequently spawned objects like bullets and enemies.</p>

						<h2>Implementation</h2>
						<p>Here's an example of the code needed to retrieve an object from the pool:</p>
						<pre><code class="language-csharp line-numbers">GameObject isPooled = objectPooler.curObjectPooler.getObject(ID);
GameObject curBullet = isPooled;

if (!isObjectPooled)
    curBullet = Instantiate(PREFAB);</code></pre>

						<h2>Data Structure</h2>
						<p>The object pool is stored in a data structure that allows for multiple objects with the same ID, making it possible to have multiple "bullets" with the same identifier but as different instances:</p>
						<pre><code class="language-csharp line-numbers">public List&lt;KeyValuePair&lt;string, GameObject&gt;&gt; objectPool;</code></pre>

						<h2>Challenges Encountered</h2>
						<p>While the solution greatly improved performance, it wasn't without issues. One significant problem was that objects weren't properly resetting to their default state when returned to the pool, resulting in enemies sometimes spawning with incorrect health values or the wrong class properties. This led to some interesting and unexpected behaviors:</p>
						
						<div class="video-wrapper">
							<iframe src="https://www.youtube.com/embed/kwmzc38T6Ek?showinfo=0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						</div>

						<h2>Benefits</h2>
						<p>Despite these challenges, the object pooling system significantly improved performance, allowing me to spawn large numbers of enemies and projectiles with minimal impact on frame rate. This was a crucial optimization for maintaining smooth gameplay, especially in multiplayer scenarios where networking adds additional overhead.</p>
						
						<div class="video-wrapper">
							<iframe src="https://www.youtube.com/embed/POXiNS1v1dQ?showinfo=0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
						</div>
						
						<h2>Key Lessons</h2>
						<p>Through implementing this system, I learned valuable lessons about:</p>
						<ul>
							<li>Memory management in game development</li>
							<li>The importance of proper object state management</li>
							<li>Performance optimization for real-time multiplayer games</li>
							<li>Debugging complex object behavior in networked environments</li>
						</ul>
					</article>
				</div>
			</div>
		</div>
	</section>
	<!-- // POST END -->

	<!-- // BLOG BEGIN -->
	<section id="blog">
		<div class="container text-center">
			<div class="row">
				<div class="col-md-12 text-center">
					<h2>Blog Posts</h2>
				</div>
			</div>
			<br>
			<div id="blog-list"></div>
		</div>
	</section>
	<!-- // BLOG END -->

	<!-- Back to Top Button -->
	<a href="#" id="back-to-top" class="back-to-top">
		<i class="fa fa-arrow-up"></i>
	</a>

	<!-- // FOOTER BEGIN -->
	<footer id="footer-post">
		<div class="container">
			<div class="col-md-8 col-md-offset-2 text-center">
				<ul class="social-icons-footer">
					<li><a target="_blank" href="https://www.linkedin.com/in/joshua-mobley/"><i class="fa fa-linkedin"></i></a></li>
					<li><a target="_blank" href="https://twitter.com/deadmonstors"><i class="fa fa-twitter"></i></a></li>
					<li><a target="_blank" href="https://github.com/deadmonstor"><i class="fa fa-github"></i></a></li>
					<li><a target="_blank" href="https://steamcommunity.com/id/deadmonstor"><i class="fa fa-steam"></i></a></li>
				</ul><br>

				<p>© <script>document.write(new Date().getFullYear());</script> Joshua Mobley</p>
			</div>
		</div>
	</footer>
	<!-- // FOOTER END -->

	<!-- js plugin -->
	<script src="assets/js/jquery.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/jquery.stellar.min.js"></script>
	<script src="assets/js/text-rotate.js"></script>
	<script src="assets/js/numscroller.js"></script>
	<script src="assets/js/jquery.appear.js"></script>
	<script src="assets/js/progress-bar.min.js"></script>
	<script src="assets/js/jquery.mixitup.js"></script>
	<script src="assets/js/jquery.magnific-popup.min.js"></script>
	<script src="assets/js/magnific-popup-options.js"></script>
	<script src="assets/js/jquery.flexslider-min.js"></script>
	<script src="assets/js/aos.js"></script>
	<script src="assets/js/app.js"></script>
	<script src="assets/js/prism.js"></script>

	<!-- main js -->
	<script src="assets/js/main.js"></script>

	<!-- Back to top script -->
	<script>
		// Show/hide Back-to-Top button
		window.addEventListener('scroll', function() {
			const backToTop = document.getElementById('back-to-top');
			if (window.scrollY > 300) {
				backToTop.style.display = 'block';
			} else {
				backToTop.style.display = 'none';
			}
		});

		// Smooth scroll to top
		document.getElementById('back-to-top').addEventListener('click', function(event) {
			event.preventDefault();
			window.scrollTo({
				top: 0,
				behavior: 'smooth'
			});
		});
	</script>
</body>

</html>